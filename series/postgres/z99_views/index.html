<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noindex"><title>- sysfig</title><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel=stylesheet><link rel=stylesheet href=https://sysfig.dev/style.css></head><body><header><div id=menu-button></div><nav id=main-nav><a class=main-nav__link href=/series>Series</a>
<a class=main-nav__link href=/posts>Posts</a>
<a id=main-nav__home-link class=main-nav__link href=/><span id=header-text-logo>sysfig.dev</span><div id=header-logo class=logo></div></a><a class=main-nav__link href=/projects>Projects</a>
<a class=main-nav__link href=/now>Now</a></nav></header><main><div class="single series-post"><h1 class=title></h1><div class=page-meta>// 1 Jan 01</div><div class=series-post-header>This post is part of the series .</div><div class=content><h1 id=views>Views</h1><p>There are two places you can specify which queries are to be run on the database. The first is in the client code using a client library such as C&rsquo;s <a href=https://www.postgresql.org/docs/current/libpq.html><code>libpq</code></a>. Another is in the database itself in the form of <em>views</em>.</p><p>Views are simply named SQL <code>SELECT</code> queries. You can refer to the view (the output of the <code>SELECT</code> query) as a normal table, which means you can even have views that builds on top of other views.</p><p>Although the concept of views are quite simple, it has many uses:</p><ul><li>convenience - views stop you from typing out the same query (often complex) every time</li><li>encapsulation - allows you to change the underlying structure of your table (add columns, change data type) without changing the view (in the case of changing data type, you can use <a href=https://www.postgresql.org/docs/current/sql-createcast.html><code>CAST</code></a> to convert the table&rsquo;s column data type to a compatible type). This allows database administrators to optimize the data structure but also give time to developers to update their code.</li><li>DRY - if there are multiple applications (perhaps written in different languages that can&rsquo;t share common code) that reads the same set of data from the same database table, instead of defining the query in the application code multiple times, it may be DRYer to define a view.</li><li>security - instead of granting users permissions for a table (which may include certain rows and/or columns you don&rsquo;t want certain users to see), you can create a more restrictive view and grant permissions only for that view</li><li>performance - instead of allowing application developers to send arbitrary (non-performant) queries to your database, you provide a view which you can optimize.</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>VIEW</span> <span style=color:#f92672>&lt;</span>view_name<span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>AS</span> <span style=color:#f92672>&lt;</span>sql_select_query<span style=color:#f92672>&gt;</span>;
</code></pre></div><h2 id=updatable-views>updatable views</h2><h2 id=why-not-views>Why Not Views</h2><p>View joins?
derived table?
table-valued function == parametized view
**stored procedures</p><p>What about updates/deletes</p><hr><p>Adding indexes to views</p></div><div id=series-navigation><a class=prev href=/series/postgres/z99_triggers/><div class=prev-button><img class=prev__arrow src=/img/arrow.svg><span class=prev__text>Prev</span></div><div class=prev__title><div class=chapter-order></div><div class=prev__title__text></div></div></a><div></div></div></div></main><footer><a href=/><div id=footer-logo-group><div id=footer-logo-base-rect></div><div id=footer-logo-base-circle></div><div id=footer-logo class=logo></div><div id=footer-text><span class=text-logo>sysfig.dev</span>
<span class=copyright>2021</span></div></div></a><div id=footer-about>I am a programmer and DevOps engineer on a quest to make education more accessible for all. <span class=text-logo>sysfig.dev</span> is an outlet for me to share my knowledge on the web, and also to showcase my projects.</div></footer><script src=/js/main.js></script></body></html>