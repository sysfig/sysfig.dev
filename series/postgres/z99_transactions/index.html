<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noindex"><title>- sysfig</title><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel=stylesheet><link rel=stylesheet href=https://sysfig.dev/style.css></head><body><header><div id=menu-button></div><nav id=main-nav><a class=main-nav__link href=/series>Series</a>
<a class=main-nav__link href=/posts>Posts</a>
<a id=main-nav__home-link class=main-nav__link href=/><span id=header-text-logo>sysfig.dev</span><div id=header-logo class=logo></div></a><a class=main-nav__link href=/projects>Projects</a>
<a class=main-nav__link href=/now>Now</a></nav></header><main><div class="single series-post"><h1 class=title></h1><div class=page-meta>// 1 Jan 01</div><div class=series-post-header>This post is part of the series .</div><div class=content><h1 id=transactions>Transactions</h1><p>A transaction block is an ordered set of SQL commands that are grouped into a single operation. This means if the database crashes whilst executing one of the SQL commands in the transaction, then the whole transaction is deemed to have failed and none of the SQL commands within it (even those that have already been executed) takes effect. Because of this all-or-nothing property, transactions are said to be <em>atomic</em>.</p><p>In PostgreSQL, you can define a transaction block by enclosing the set of SQL commands between the <code>BEGIN</code> and <code>COMMIT</code> commands.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>BEGIN</span>;
<span style=color:#66d9ef>UPDATE</span> accounts <span style=color:#66d9ef>SET</span> balance <span style=color:#f92672>=</span> balance <span style=color:#f92672>-</span> <span style=color:#ae81ff>100</span>.<span style=color:#ae81ff>00</span>
    <span style=color:#66d9ef>WHERE</span> name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Alice&#39;</span>;
<span style=color:#75715e>-- etc etc
</span><span style=color:#75715e></span><span style=color:#66d9ef>COMMIT</span>;
</code></pre></div><h2 id=savepoints>Savepoints</h2><p><code>SAVEPOINT</code>
<code>ROLLBACK TO</code></p></div><div id=series-navigation><a class=prev href=/series/postgres/z99_table-inheritance/><div class=prev-button><img class=prev__arrow src=/img/arrow.svg><span class=prev__text>Prev</span></div><div class=prev__title><div class=chapter-order></div><div class=prev__title__text></div></div></a><a class=next href=/series/postgres/z99_triggers/><div class=next-button><span class=next__text>Next</span><img class=next__arrow src=/img/arrow.svg></div><div class=next__title><div class=prev__title__text></div><div class=chapter-order></div></div></a></div></div></main><footer><a href=/><div id=footer-logo-group><div id=footer-logo-base-rect></div><div id=footer-logo-base-circle></div><div id=footer-logo class=logo></div><div id=footer-text><span class=text-logo>sysfig.dev</span>
<span class=copyright>2021</span></div></div></a><div id=footer-about>I am a programmer and DevOps engineer on a quest to make education more accessible for all. <span class=text-logo>sysfig.dev</span> is an outlet for me to share my knowledge on the web, and also to showcase my projects.</div></footer><script src=/js/main.js></script></body></html>