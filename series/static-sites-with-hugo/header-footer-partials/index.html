<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Pulling Out the Header and Footer - sysfig</title><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel=stylesheet><link rel=stylesheet href=https://sysfig.dev/style.css></head><body><header><div id=menu-button></div><nav id=main-nav><a class=main-nav__link href=/series>Series</a>
<a class=main-nav__link href=/posts>Posts</a>
<a id=main-nav__home-link class=main-nav__link href=/><span id=header-text-logo>sysfig.dev</span><div id=header-logo class=logo></div></a><a class=main-nav__link href=/projects>Projects</a>
<a class=main-nav__link href=/now>Now</a></nav></header><main><div class="single series-post"><h1 class=title>Pulling Out the Header and Footer</h1><div class=page-meta>// 15 Dec 20</div><div class=series-post-header>This post is part E1 of the series <a class=series-post-header__series-title href=/series/static-sites-with-hugo/>Generate Static Sites with Hugo</a>.</div><div class=content><p>Let&rsquo;s take our <code>layouts/index.html</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#75715e>&lt;!DOCTYPE html&gt;</span>
&lt;<span style=color:#f92672>html</span> <span style=color:#a6e22e>lang</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{{ .Site.LanguageCode }}&#34;</span>&gt;
&lt;<span style=color:#f92672>head</span>&gt;
    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>charset</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;utf-8&#34;</span>&gt;
    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;viewport&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;width=device-width, initial-scale=1&#34;</span>&gt;
    &lt;<span style=color:#f92672>title</span>&gt;{{ .Site.Title }}&lt;/<span style=color:#f92672>title</span>&gt;
&lt;/<span style=color:#f92672>head</span>&gt;
&lt;<span style=color:#f92672>body</span>&gt;
    &lt;<span style=color:#f92672>header</span>&gt;
        &lt;<span style=color:#f92672>nav</span>&gt;
            &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/&#34;</span>&gt;Home&lt;/<span style=color:#f92672>a</span>&gt;
            &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/series&#34;</span>&gt;Series&lt;/<span style=color:#f92672>a</span>&gt;
            &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/posts&#34;</span>&gt;Posts&lt;/<span style=color:#f92672>a</span>&gt;
            &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/projects&#34;</span>&gt;Projects&lt;/<span style=color:#f92672>a</span>&gt;
            &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/about&#34;</span>&gt;About&lt;/<span style=color:#f92672>a</span>&gt;
        &lt;/<span style=color:#f92672>nav</span>&gt;
    &lt;/<span style=color:#f92672>header</span>&gt;
    &lt;<span style=color:#f92672>main</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page-content&#34;</span>&gt;{{ .Content }}&lt;/<span style=color:#f92672>div</span>&gt;
    &lt;/<span style=color:#f92672>main</span>&gt;
    &lt;<span style=color:#f92672>footer</span>&gt;sysfig.dev &amp;copy; {{ time.Now.Year }}&lt;/<span style=color:#f92672>footer</span>&gt;
&lt;/<span style=color:#f92672>body</span>&gt;
&lt;/<span style=color:#f92672>html</span>&gt;
</code></pre></div><p>The header and footer are the same for all pages, so let&rsquo;s extract them into a partial.</p><p>Create a new file at <code>layouts/partials/header.html</code> and copy in the entire <code>&lt;header></code> element.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>header</span>&gt;
    &lt;<span style=color:#f92672>nav</span>&gt;
        &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/&#34;</span>&gt;Home&lt;/<span style=color:#f92672>a</span>&gt;
        &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/series&#34;</span>&gt;Series&lt;/<span style=color:#f92672>a</span>&gt;
        &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/posts&#34;</span>&gt;Posts&lt;/<span style=color:#f92672>a</span>&gt;
        &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/projects&#34;</span>&gt;Projects&lt;/<span style=color:#f92672>a</span>&gt;
        &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/about&#34;</span>&gt;About&lt;/<span style=color:#f92672>a</span>&gt;
    &lt;/<span style=color:#f92672>nav</span>&gt;
&lt;/<span style=color:#f92672>header</span>&gt;
</code></pre></div><p>Then, replace the <code>&lt;header></code> element in both <code>layouts/index.html</code> and <code>layouts/_default/single.html</code> with this markup:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>{{<span style=color:#f92672>-</span> <span style=color:#a6e22e>partial</span> <span style=color:#e6db74>&#34;header.html&#34;</span> . <span style=color:#f92672>-</span>}}
</code></pre></div><p>Everything between the pair of braces (<code>{{ }}</code>) is processed using Go&rsquo;s <code>template</code> package. The <code>{{-</code> syntax is the <code>template</code> package&rsquo;s way of saying &ldquo;trim all whitespaces preceding the opening braces&rdquo;; likewise, <code>-}}</code> means trim all whitespaces after the closing braces. This means <code>a b c {{- d }} e</code> will be outputted as <code>a b cd e</code>.</p><blockquote><p>Note that the <code>{{-</code>/<code>-}}</code> syntax does not trim whitespaces <em>within</em> the expression, but on either side of the expression.</p></blockquote><p>Within the braces are three directives:</p><ul><li><code>partial</code> - the command that imports the partial.</li><li><code>"header.html"</code> - the filename of the partial within the <code>layouts/partials</code> directory.</li><li><code>.</code> - the third directive is the context you pass into the partial. By default, all layouts are passed the page&rsquo;s context, which is represented by the period <code>.</code>. By specifying the <code>.</code> here, we are passing in the page&rsquo;s context into the partial.</li></ul><p>The last few lines of the <code>layouts/index.html</code> files should now look like this:</p><p>Let&rsquo;s go back to <code>http://localhost:1313</code> and see that our page content is still the same as before, which means our partials are being injected properly.</p><p>Now carry out the same exercise with the footer. You should end up with a file at <code>layouts/partials/footer.html</code> with the following content:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>footer</span>&gt;sysfig.dev &amp;copy; {{ time.Now.Year }}&lt;/<span style=color:#f92672>footer</span>&gt;
</code></pre></div><p>And the <code>&lt;footer></code> element in both layouts replaced with the <code>{{- partial -}}</code> block.</p><p>Go once more to <code>http://localhost:1313</code> to confirm the page is the same as before.</p></div><div id=series-navigation><a class=prev href=/series/static-sites-with-hugo/partials/><div class=prev-button><img class=prev__arrow src=/img/arrow.svg><span class=prev__text>Prev</span></div><div class=prev__title><div class=chapter-order>E0</div><div class=prev__title__text>Pulling Out Common Elements into Partials</div></div></a><a class=next href=/series/static-sites-with-hugo/head-partial/><div class=next-button><span class=next__text>Next</span><img class=next__arrow src=/img/arrow.svg></div><div class=next__title><div class=prev__title__text>Pulling Out the Head Element</div><div class=chapter-order>E2</div></div></div></div></main><footer><a href=/><div id=footer-logo-group><div id=footer-logo-base-rect></div><div id=footer-logo-base-circle></div><div id=footer-logo class=logo></div><div id=footer-text><span class=text-logo>sysfig.dev</span>
<span class=copyright>2020</span></div></div></a><div id=footer-about>I am a programmer and DevOps engineer on a quest to make education more accessible for all. <span class=text-logo>sysfig.dev</span> is an outlet for me to share my knowledge on the web, and also to showcase my projects.</div></footer><script src=/js/main.js></script></body></html>