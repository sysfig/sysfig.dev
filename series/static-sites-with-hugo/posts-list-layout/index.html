<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noindex"><title>Adding Posts List Layout - sysfig</title><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel=stylesheet><link rel=stylesheet href=https://sysfig.dev/style.css></head><body><header><div id=menu-button></div><nav id=main-nav><a class=main-nav__link href=/series>Series</a>
<a class=main-nav__link href=/posts>Posts</a>
<a id=main-nav__home-link class=main-nav__link href=/><span id=header-text-logo>sysfig.dev</span><div id=header-logo class=logo></div></a><a class=main-nav__link href=/projects>Projects</a>
<a class=main-nav__link href=/now>Now</a></nav></header><main><div class="single series-post"><h1 class=title>Adding Posts List Layout</h1><div class=page-meta>// 15 Dec 20</div><div class=series-post-header>This post is part G0 of the series <a class=series-post-header__series-title href=/series/static-sites-with-hugo/>Generate Static Sites with Hugo</a>.</div><div class=content><p>We can reach individual posts by going to <code>http://localhost:1313/posts/&lt;name></code> but what if want to see a list of all posts? If you try <code>http://localhost:1313/posts/</code>, you&rsquo;ll be served a blank page because there is no content file or layout file for the section list page (<code>layouts/index.html</code> only works for the home page and <code>layouts/_default/single.html</code> only works for single pages).</p><p>We can create a list layout at <code>layouts/_default/list.html</code> that acts as the default list layout. If we need a different layout later (e.g. for series), we can create a more specific layout then.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>{{ define &#34;main&#34; }}
  &lt;<span style=color:#f92672>h1</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;title&#34;</span>&gt;{{ .Title }}&lt;/<span style=color:#f92672>h1</span>&gt;
  &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page-content&#34;</span>&gt;{{ .Content }}&lt;/<span style=color:#f92672>div</span>&gt;
  {{ range .Pages }}
    &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-list-item&#34;</span>&gt;
      &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-list-item__meta&#34;</span>&gt;// {{ .Date.Format &#34;2 Jan 06&#34; }} &amp;bullet; {{ range .Params.tags }}
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;tag&#34;</span>&gt;{{ . }}&lt;/<span style=color:#f92672>div</span>&gt;
        {{ end }}
      &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post-list-item__title&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{{ .RelPermalink }}&#34;</span>&gt;{{ .Title }}&lt;/<span style=color:#f92672>a</span>&gt;
    &lt;/<span style=color:#f92672>div</span>&gt;
  {{ end }}
{{ end }}
</code></pre></div><p>List layouts are given a different context to regular pages. With a section list page layout, the page context of every page in the section are available under <code>.Pages</code>. This allows us to iterate over <code>.Pages</code> using the <a href=https://gohugo.io/functions/range/><code>range</code></a> function to generate links to all pages in that section.</p><p>Within the <code>{{ range .Pages }}</code> block, the context changes to the page&rsquo;s context. That&rsquo;s why the top-level <code>{{ .Title }}</code> displays the title of the list page (i.e. <code>posts</code>), whilst the <code>{{ .Title }}</code> within the <code>{{ range .Pages }}</code> block displays the title of each individual post.</p><p>Within each page, we are using the <a href=https://gohugo.io/functions/format/><code>.Format</code></a> function of <code>.Date</code> to format the date (taken from the <code>date</code> front matter field); without formatting, the date would read something like <code>2020-12-12 16:58:14 -0800 PST</code>.</p><p>An additional <code>range</code> block iterates over the posts' tags. We have to use <code>.Params.tags</code> instead of <code>.Tags</code> because <code>tags</code> is not a <a href=https://gohugo.io/content-management/front-matter/#predefined>predefined</a> front matter variable.</p><p>Let&rsquo;s head over to <code>http://localhost:1313/posts/</code> and see that our section list page is now displaying details for a single post.</p><p><img src=posts-list-single-post.png alt></p></div><div id=series-navigation><a class=prev href=/series/static-sites-with-hugo/post-page-metadata/><div class=prev-button><img class=prev__arrow src=/img/arrow.svg><span class=prev__text>Prev</span></div><div class=prev__title><div class=chapter-order>F2</div><div class=prev__title__text>Adding Metadata to Post Page</div></div></a><a class=next href=/series/static-sites-with-hugo/list-sorting/><div class=next-button><span class=next__text>Next</span><img class=next__arrow src=/img/arrow.svg></div><div class=next__title><div class=prev__title__text>Understanding Sorting in Lists</div><div class=chapter-order>G1</div></div></div></div></main><footer><a href=/><div id=footer-logo-group><div id=footer-logo-base-rect></div><div id=footer-logo-base-circle></div><div id=footer-logo class=logo></div><div id=footer-text><span class=text-logo>sysfig.dev</span>
<span class=copyright>2020</span></div></div></a><div id=footer-about>I am a programmer and DevOps engineer on a quest to make education more accessible for all. <span class=text-logo>sysfig.dev</span> is an outlet for me to share my knowledge on the web, and also to showcase my projects.</div></footer><script src=/js/main.js></script></body></html>