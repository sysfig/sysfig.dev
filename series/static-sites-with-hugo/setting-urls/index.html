<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noindex"><title>Setting URLs - sysfig</title><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel=stylesheet><link rel=stylesheet href=https://sysfig.dev/style.css></head><body><header><div id=menu-button></div><nav id=main-nav><a class=main-nav__link href=/series>Series</a>
<a class=main-nav__link href=/posts>Posts</a>
<a id=main-nav__home-link class=main-nav__link href=/><span id=header-text-logo>sysfig.dev</span><div id=header-logo class=logo></div></a><a class=main-nav__link href=/projects>Projects</a>
<a class=main-nav__link href=/now>Now</a></nav></header><main><div class="single series-post"><h1 class=title>Setting URLs</h1><div class=page-meta>// 15 Dec 20</div><div class=series-post-header>This post is part I1 of the series <a class=series-post-header__series-title href=/series/static-sites-with-hugo/>Generate Static Sites with Hugo</a>.</div><div class=content><p>There are multiple ways to fulfil our first constraint - Posts within a series should have the URL path <code>/series/&lt;series-name>/&lt;post-slug></code>:</p><ol><li><p><strong>Approach</strong>: Use filename directory structure</p><p>By default, a page&rsquo;s URL path reflects its filename and the directory structure it is found in. Therefore, we can simply place posts that should be within a series inside the <code>content/series/&lt;series-name>/</code> directory.</p><p><strong>Advantages</strong>:</p><ol><li>It&rsquo;s simple to implement.</li><li>Doing so will fulfil our second constraint (Posts in a series should not appear on the <code>/posts</code> list page). Because series post pages are not in the <code>content/posts/</code> directory, the <code>{{ .Pages }}</code> block in the layout will not include them.</li></ol><p><strong>Drawbacks</strong>:</p><ol><li>Because it&rsquo;s now within the <code>content/series/</code> directory, it will belong to the section <code>series</code> and defaults to using the <code>series</code> archetype and layouts, which is not what we want. The <code>series</code> archetype and layouts should be used for the series page (i.e. <code>/series/&lt;series-name></code>), not the series post pages.</li></ol></li><li><p><strong>Approach</strong>: Use custom naming convention</p><p>Treat series posts as a normal post with a specific naming convention. Here&rsquo;s how it can work:</p><ol><li>Prefix the filenames of series posts with the kebab-case name of the series followed by and underscore (e.g. <code>installing-hugo.md</code> becomes <code>static-sites-with-hugo_installing-hugo.md</code>)</li><li>Use Hugo&rsquo;s <code>replace</code> functions to replace the underscore with a forward slash (i.e. <code>{{ replace .Name "_" "/" }}</code>)</li><li>Use the <code>url</code> front matter variable to set the URL path (i.e. <code>{{if in .Name "_" -}} url: /series/{{ replace .Name "_" "/" }} {{- end }}</code>)</li><li>Update the <code>title</code> front matter template to remove the underscore and everything before it before piping to the <code>title</code> function (i.e. <code>title: {{ replace .Name "-" " " | replaceRE "^.*_(.*)" "$1" | title }}</code>)</li></ol><p><strong>Advantages</strong>:</p><ol><li>It is in the <code>posts</code> section and so no extra work needs to be done for it to use the <code>posts</code> archetype and layouts.</li></ol><p><strong>Drawbacks</strong>:</p><ol><li>The standalone posts and series posts are all going to be located in the same directory. If you have a lot of posts, then this can make things hard to find.</li><li>The file can be lengthy if both the series name and the post title are long</li></ol></li></ol><p>We are going with the first approach for its simplicity, plus there are easy workarounds to address its drawbacks. So let&rsquo;s create a new post at <code>content/series/&lt;series-name/&lt;series-post-title></code> (e.g. <code>content/series/generate-static-sites-with-hugo/test.md</code>) by running <code>hugo new</code>.</p><pre><code>hugo new series/generate-static-sites-with-hugo/test.md
</code></pre><p>Hugo will create the file using an archetype. It will first try to find an archetype called <code>series</code>, but since it doesn&rsquo;t exist, it&rsquo;ll default to the <code>_default</code> archetype.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>---
<span style=color:#f92672>title</span>: <span style=color:#ae81ff>Test</span>
<span style=color:#f92672>date</span>: <span style=color:#e6db74>2020-12-15T20:01:47</span><span style=color:#ae81ff>-08</span>:<span style=color:#ae81ff>00</span>
<span style=color:#f92672>draft</span>: <span style=color:#66d9ef>true</span>
---
</code></pre></div><p>However, we want series posts to use the <code>posts</code> archetype and layout, so we need to explicitly give each series post a content type of <code>posts</code>. So how can we set the <code>type</code> property for every post within every <code>content/series/*/</code> directory?</p></div><div id=series-navigation><a class=prev href=/series/static-sites-with-hugo/series/><div class=prev-button><img class=prev__arrow src=/img/arrow.svg><span class=prev__text>Prev</span></div><div class=prev__title><div class=chapter-order>I0</div><div class=prev__title__text>Series</div></div></a><a class=next href=/series/static-sites-with-hugo/overriding-archetype/><div class=next-button><span class=next__text>Next</span><img class=next__arrow src=/img/arrow.svg></div><div class=next__title><div class=prev__title__text>Overriding Archetype</div><div class=chapter-order>I2</div></div></div></div></main><footer><a href=/><div id=footer-logo-group><div id=footer-logo-base-rect></div><div id=footer-logo-base-circle></div><div id=footer-logo class=logo></div><div id=footer-text><span class=text-logo>sysfig.dev</span>
<span class=copyright>2020</span></div></div></a><div id=footer-about>I am a programmer and DevOps engineer on a quest to make education more accessible for all. <span class=text-logo>sysfig.dev</span> is an outlet for me to share my knowledge on the web, and also to showcase my projects.</div></footer><script src=/js/main.js></script></body></html>